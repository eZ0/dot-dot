function initButtons(){$("#submit").click(function(t){t.preventDefault(),checkUserdata()})}function checkUserdata(){data_entered||(name=encodeURIComponent($('#pic-form input[name="name"]').val()),country=encodeURIComponent($('#pic-form input[name="country"]').val()),url=encodeURIComponent($('#pic-form input[name="url"]').val()),data_entered=!0,saveRegistration())}function saveRegistration(){$.ajax({url:"assets/data/savedata.php?&name="+name+"&country="+country+"&url="+url}).done(function(){onRegistrationSaved(data_entered)})}function onRegistrationSaved(){data_entered?$("#pic-form").fadeOut(500,function(){$("#thanks").css({opacity:"1"})}):alert("An error occurred saving to the database.")}function CanvasSaver(t){this.url=t,this.savePNG=function(e,n){if(e&&t){n=n||"picture",console.log("test");var a=e.toDataURL("image/png");a=a.substr(a.indexOf(",")+1).toString();var o=document.createElement("input");o.setAttribute("name","imgdata"),o.setAttribute("value",a),o.setAttribute("type","hidden");var i=document.createElement("input");i.setAttribute("name","name"),i.setAttribute("value",n+".png");var s=document.createElement("form");s.method="post",s.action=t,s.appendChild(o),s.appendChild(i),document.body.appendChild(s),s.submit(),document.body.removeChild(s)}},this.generateButton=function(t,e,n){var a=document.createElement("button"),o=this;return a.innerHTML=t,a.style["class"]="canvassaver",a.addEventListener("click",function(){o.savePNG(e,n)},!1),document.body.appendChild(a),a}}var data_entered=!1,name,country,url;$(document).ready(function(){$.getJSON("assets/javascript/gallery.json",function(t){for(var e=t.gallery.length-1;e>=0;e--)$("div#gallery-container").append(e%2==0?"<div class='col view'>\n					<img src='"+t.gallery[e].image+"'>\n					<div class='mask'>\n						<div class='text-wrap'>\n							<p class='person'>"+t.gallery[e].name+", "+t.gallery[e].country+"</p>\n						</div>\n					</div>\n				</div>\n\n				<div class='col view'>\n					<img src='assets/images/gallery/pic0.png'>\n					<div class='mask add'>\n						<div class='text-wrap'>\n							<p class='text-add'>Want your picture</br> here too?</p>\n							<div class='button btn-add' data-toggle='modal' data-target='#myModal'>Send it</div>\n						</div>\n					</div>\n				</div>":"<div class='col view'>\n					<img src='"+t.gallery[e].image+"'>\n					<div class='mask'>\n						<div class='text-wrap'>\n							<p class='person'>"+t.gallery[e].name+", "+t.gallery[e].country+"</p>\n						</div>\n					</div>\n				</div>")}).done(function(){console.log("success"),($("element").data("bs.modal")||{}).isShown?(console.log("Modal!"),$("#gallery-container.view").css("filter","blur(5px)")):console.log("I cant see Modal!")}),initButtons()}),$(document).ready(function(){canvas.style.webkitFilter="blur(1px)";var t=document.getElementById("_tattoo"),e=new CanvasSaver("assets/data/saveimage.php");e.generateButton("save an image!",t,"myimage");var n=$("#video");n[0].removeAttribute("controls"),$(".control").fadeIn(500),$(".video-wrapper").hover(function(){$(".control").stop().fadeIn()},function(){timeDrag||$(".control").stop().fadeOut()}).on("click",function(){$(".btnPlay").find(".icon-play").addClass("icon-pause").removeClass("icon-play"),$(this).unbind("click"),n[0].play()}),n.on("click",function(){a()}),$(".btnPlay").on("click",function(){a()});var a=function(){n[0].paused||n[0].ended?($(".btnPlay").addClass("paused"),$(".btnPlay").find(".icon-play").addClass("icon-pause").removeClass("icon-play"),n[0].play()):($(".btnPlay").removeClass("paused"),$(".btnPlay").find(".icon-pause").removeClass("icon-pause").addClass("icon-play"),n[0].pause())}}),+function(t){"use strict";function e(e,a){return this.each(function(){var o=t(this),i=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);i||o.data("bs.modal",i=new n(this,s)),"string"==typeof e?i[e](a):s.show&&i.show(a)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,a=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var a=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&a;if(this.$backdrop=t('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var i=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(150):i()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var a=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=a,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=t(this),o=a.attr("href"),i=t(a.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},i.data(),a.data());a.is("a")&&n.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),e.call(i,s,this)})}(jQuery);
//# sourceMappingURL=main.min.js.map