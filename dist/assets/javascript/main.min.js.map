{"version":3,"sources":["saveimage.js","admin.js","gallery.js","login.js","main.js","modal.js"],"names":["CanvasSaver","url","this","savePNG","cnvs","fname","coord","down","doNotDownloadCallback","data","toDataURL","substr","indexOf","toString","$","ajax","type","async","imgdata","name","success","dataInput","document","createElement","setAttribute","nameInput","downloadInput","coordInput","myForm","method","action","appendChild","body","submit","removeChild","checkid","updatename","updatecountry","updatepublished","updatefile","ready","initAdminButtons","click","id","text","country","isPublished","val","html","e","preventDefault","prepareData","delRow","console","log","uploadEditedImage","updateurl","prop","updateRow","updateid","done","fadeOut","fd","FormData","getElementById","append","processData","contentType","initButtons","checkUserdata","addClass","removeClass","data_entered","encodeURIComponent","file","saveRegistration","onRegistrationSaved","css","opacity","alert","initButtonsLogin","checkLoginData","loginDataEntered","username","password","checkIfRegistered","location","href","bind","hide","toggle","toggleClass","length","canvas","style","webkitFilter","context","getContext","cs","clearRect","width","height","fillText","baseUrl","newHref","isArm","video","removeAttribute","fadeIn","hover","stop","on","find","unbind","play","playpause","paused","ended","pause","Plugin","option","_relatedTarget","each","$this","options","extend","Modal","DEFAULTS","show","element","$body","$element","$backdrop","isShown","scrollbarWidth","remote","load","proxy","trigger","VERSION","backdrop","keyboard","prototype","that","Event","relatedTarget","isDefaultPrevented","checkScrollbar","setScrollbar","escape","transition","support","hasClass","parent","appendTo","scrollTop","offsetWidth","attr","enforceFocus","one","emulateTransitionEnd","resetScrollbar","off","hideModal","target","has","which","removeBackdrop","remove","callback","animate","doAnimate","currentTarget","focus","call","callbackRemove","clientWidth","window","innerWidth","measureScrollbar","bodyPad","parseInt","scrollDiv","className","old","fn","modal","Constructor","noConflict","$target","replace","test","is","showEvent","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["/*\nclass for saving canvas as png and renaming it\ncommunicates with saveimage.php which sets headers\n*/\nfunction CanvasSaver(url) {\n\n\tthis.url = url;\n\n\tthis.savePNG = function(cnvs, fname, coord, down, doNotDownloadCallback) {\n\t\t//if no canvas or url to .php - do nothing\n\t\tif(!cnvs || !url) return;\n\n\t\t//name file 'picture.png' if there is no file name given\n\t\tfname = fname || 'picture';\n\n\t\t//saving canvas element\n\t\tvar data = cnvs.toDataURL(\"image/png\");\n\t\tdata = data.substr(data.indexOf(',') + 1).toString();\n\n\t\t//unique coordinates\n\t\tcoord = coord || 10;\n\t\tdown = down || 1111;\n\n\t\tif('false' == down) {\n\t\t\t$.ajax({\n\t\t\t\ttype: \"POST\",\n\t\t\t\tasync: false,\n\t\t\t\turl: url,\n\t\t\t\tdata: {'imgdata':data, 'name':fname, 'down':'false', 'coord':coord},\n\t\t\t\tsuccess: doNotDownloadCallback\n\t\t\t});\n\t\t\treturn ;\n\t\t}\n\n\t\t//creating hidden form for sending our data for image to php and back\n\t\tvar dataInput = document.createElement(\"input\") ;\n\t\tdataInput.setAttribute(\"name\", 'imgdata') ;\n\t\tdataInput.setAttribute(\"value\", data);\n\t\tdataInput.setAttribute(\"type\", \"hidden\");\n\n\t\tvar nameInput = document.createElement(\"input\") ;\n\t\tnameInput.setAttribute(\"name\", 'name') ;\n\t\tnameInput.setAttribute(\"value\", fname + '.png');\n\n\t\tvar downloadInput = document.createElement(\"input\") ;\n\t\tdownloadInput.setAttribute(\"name\", 'down') ;\n\t\tdownloadInput.setAttribute(\"value\", down);\n\t\tdownloadInput.setAttribute(\"type\", \"hidden\");\n\n\t\t//sending unique coordinate of saved image\n\t\tvar coordInput = document.createElement(\"input\") ;\n\t\tcoordInput.setAttribute(\"name\", 'coord');\n\t\tcoordInput.setAttribute(\"value\", coord);\n\t\tcoordInput.setAttribute(\"type\", \"hidden\");\n\n\t\tvar myForm = document.createElement(\"form\");\n\t\tmyForm.method = 'post';\n\t\tmyForm.action = url;\n\t\tmyForm.appendChild(dataInput);\n\t\tmyForm.appendChild(nameInput);\n\t\tmyForm.appendChild(downloadInput);\n\t\tmyForm.appendChild(coordInput);\n\n\t\t//communicating with php via submiting form\n\t\tdocument.body.appendChild(myForm);\n\t\tmyForm.submit() ;\n\t\tdocument.body.removeChild(myForm);\n\t};\n}","var checkid;\nvar updatename;\nvar updatecountry;\nvar updatepublished;\nvar updatefile;\n\n$( document ).ready(function() {\n\tinitAdminButtons();\n\t\n\nfunction initAdminButtons() {\n\t$('.btnedit').click( function() {\n\t\tvar id = $(this).data('id');\n\t\tvar name = $('#'+id+'-name').text();\n\t\tvar country = $('#'+id+'-country').text();\n\t\tvar url = $('#'+id+'-url').text();\n\t\tvar isPublished = $('.'+id+'_chkupd').val();\n\t\t\n\t\t//change all fields to input with value\n\t\t$('#'+id+'-name').html('<input type=text id=iName' + id + ' value='+ name + ' name=\"name\">'); \n\t\t$('#'+id+'-country').html('<input type=text id=iCoutry-' + id + ' value='+ country + ' name=\"country\">'); \n\t\t$('#'+id+'-url').html('<input type=text id=iUrl' + id + ' value='+ url + ' name=\"url\">'); \n\n\t\t$('#'+'iCoutry-'+id).val(country);\n\n\t\tif (isPublished == 1) {\n\t\t\t$('#'+id+'-isPublished').html('<input class='+id+'_chkupd type=checkbox checked value=1 >');\n\t\t}else{\n\t\t\t$('#'+id+'-isPublished').html('<input class='+id+'_chkupd type=checkbox value=0 >');\n\t\t}\n\t});\n\n\t$('.btnupdate').click( function(e) {\n\t\te.preventDefault();\n\n\t\tcheckid = $(this).data('id');\n\t\tprepareData(checkid);\n\t});\n\n\t$('.btndelete').click( function(e) {\n\t\te.preventDefault();\n\n\t\tcheckid = $(this).data('id');\n\t\tdelRow(checkid);\n\t});\n\n\t$('.btnuploadedited').click( function(e) {\n\t\tcheckid = $(this).data('id');\n\t\tupdatefile = $('#'+checkid+'-form input[name=\"file\"]').val();\n\t\tconsole.log(checkid + ' ' + updatefile);\n\t\tuploadEditedImage(checkid);\n\t});\n}\nfunction prepareData(id) {\n\t\t\n\t\tupdatename = $('#'+id+'-name input[name=\"name\"]').val();\n\t\tupdatecountry = $('#'+id+'-country input[name=\"country\"]').val();\n\t\tupdateurl = $('#'+id+'-url input[name=\"url\"]').val();\n\n\t\t\n\t\tif( $('.'+id+'_chkupd').prop('checked') ){\n\t\t\tupdatepublished = 1;\n\t\t}else{\n\t\t\tupdatepublished = 0;\n\t\t}\t\n\t\tupdateRow(id);\n}\n\nfunction updateRow(id){\n\t$.ajax({\n\t\ttype: \"POST\",\n\t\tasync: false,\n\t\turl: \"assets/data/updatedata.php\",\n\t\tdata: {'updatename': updatename, 'updatecountry':updatecountry, 'updatepublished':updatepublished, 'updateurl':updateurl, 'updateid':id }\n\t}).done(function(data) {\n\t\t//change all fields back to normal\n\t\t$('#'+id+'-name').html(updatename); \n\t\t$('#'+id+'-country').html(updatecountry);\n\t\t$('#'+id+'-url').html(updateurl);\n\n\t\tif (updatepublished == 1) {\n\t\t\t$('#'+id+'-isPublished').html('<input class='+id+'_chkupd type=checkbox checked value=1 disabled>');\n\t\t}else{\n\t\t\t$('#'+id+'-isPublished').html('<input class='+id+'_chkupd type=checkbox value=0 disabled>');\n\t\t}\n\t});\n}\n\nfunction delRow(id){\n\t$.ajax({\n\t\ttype: \"POST\",\n\t\tasync: false,\n\t\turl: \"assets/data/deletedata.php\",\n\t\tdata: { 'updateid':id }\n\t}).done(function(data) {\n\t\tconsole.log(\"succes \" + data);\n\t\t//hide deleted field\n\t\t$('#'+id+'-row').fadeOut('400', function() {});\n\t});\n}\n\nfunction uploadEditedImage(id){\n\tvar fd = new FormData(document.getElementById(id+\"-form\"));\n\tfd.append(\"CustomField\", \"This is some extra data\");\n\t$.ajax({\n\t\ttype: \"POST\",\n\t\turl: \"assets/data/uploadimagedata.php?updatefileid=\"+id,\n\t\tdata: fd,\n\t\tprocessData: false,  // tell jQuery not to process the data\n\t\tcontentType: false   // tell jQuery not to set contentType\n\t}).done(function(data) {\n\t\tconsole.log(\"succesful file upload call \" + data);\n\t});\n}\n\n\n\n\n\n\n\n\n\n\n","var data_entered = false;\n\nvar name;\nvar country;\nvar url;\n\n\ninitButtons();\n$('.main').bind('touchstart', function() {});\n\n\n// modal window clicks on upload\n$('#url').hide();\n$('#file').hide();\n\n$('#_url').click(function() {\n\t$('#url').toggle();\n\t$('#file').hide();\n});\n$('#_file').click(function() {\n\t$('#file').toggle();\n\t$('#url').hide();\n});\n\n$('.btn-close').click( function() {\n\t$(this).toggleClass('open');\n});\n\n\n\nfunction initButtons() {\n\n\t$('#submit').click(function(e) {\n\t\te.preventDefault();\n\t\tcheckUserdata();\n\t});\n\n\t$('.btn-add').click(function(){\n\t\t$('.view').addClass('isBlured');\n\t});\n\n\t$('.close').click(function(){\n\t\t$('.view').removeClass('isBlured');\n\t});\n}\n\nfunction checkUserdata() {\n\tif(!data_entered) {\n\t\tname = encodeURIComponent($('#pic-form input[name=\"name\"]').val());\n\t\tcountry = encodeURIComponent($('#pic-form input[name=\"country\"]').val());\n\t\turl = encodeURIComponent($('#pic-form input[name=\"url\"]').val());\n\t\tfile = encodeURIComponent($('#pic-form input[name=\"file\"]').val());\n\n\t\tdata_entered = true;\n\n\t\tsaveRegistration();\n\t}\n}\n\nfunction saveRegistration() {\n\tvar fd = new FormData(document.getElementById(\"pic-form\"));\n\tfd.append(\"CustomField\", \"This is some extra data\");\n\t$.ajax({\n\t\turl: \"assets/data/savedata.php?&name=\"+name+\"&country=\"+country+\"&url=\"+url+\"&file=\"+file,\n\t\ttype: \"POST\",\n\t\tdata: fd,\n\t\tprocessData: false,  // tell jQuery not to process the data\n\t\tcontentType: false   // tell jQuery not to set contentType\n\t}).done(function(data) {\n\t\tonRegistrationSaved(data_entered);\n\t});\n}\n\nfunction onRegistrationSaved(data) {\n\tif(data_entered) {\n\t\t$('#pic-form').fadeOut(500, function() {\n\t\t\t$('#thanks').css({\n\t\t\t\topacity: '1'\n\t\t\t});\n\t\t});\n\t} else {\n\t\talert(\"An error occurred saving to the database.\");\n\t}\n}\n\n\n","var loginDataEntered = false;\n\nvar username;\nvar password;\n\n\ninitButtonsLogin();\n\n\nfunction initButtonsLogin() {\n\n\t$('#login').click(function(e) {\n\t\te.preventDefault();\n\t\tcheckLoginData();\n\t});\n}\n\nfunction checkLoginData() {\n\tif(!loginDataEntered) {\n\t\tusername = encodeURIComponent($('#login-form input[name=\"username\"]').val());\n\t\tpassword = encodeURIComponent($('#login-form input[name=\"password\"]').val());\n\n\t\tloginDataEntered = true;\n\n\t\tcheckIfRegistered();\n\t}\n}\n\nfunction checkIfRegistered() {\n\t$.ajax({\n\t\ttype: \"POST\",\n\t\tasync: false,\n\t\turl: \"assets/data/login.php\",\n\t\tdata: {'username': username, 'password': password}\n\t}).done(function(data) {\n\t\tconsole.log(\"succes \" + data);\n\t\tif(data === 'login'){\n\t\t\tdocument.location.href = 'admin.php';\n\t\t}else{\n\t\t\t$('#_notification').append(\"No such a username or combination\");\n\t\t}\n\t});\n}\n\n\n","\n\n\tif ($('#_tattoo').length){\n\t\tcanvas.style.webkitFilter = \"blur(1px)\";\n\t\tvar cnvs = document.getElementById('_tattoo');\n\t\tvar context = cnvs.getContext('2d');\n\t\tvar cs = new CanvasSaver('assets/data/saveimage.php');\n\t}\n\n\t$('#_btnwant').click(function(){\n\t\t//saving image from canvas \n\t\tcs.savePNG( cnvs, 'dotdot', coord, 'true');\n\t\t//clearing canvas\n\t\tcontext.clearRect(0, 0, cnvs.width, cnvs.height);\n\t\tcanvas.style.webkitFilter = \"blur(0px)\";\n\t\t//setting thankyou-text on canvas\n\t\tcontext.fillText(\"Thank you for using Dot:Dot! <3\", 100, 120);\n\t\tcontext.fillText(\"Enjoy & stay awesome!\", 120, 160);\n\t\tcontext.fillText(\"PS Don't forget to upload your spectacular pic to our gallery!\", 20, 180);\n\t\tcontext.fillText(\"Generate new tattoo's by clicking 'Hate it'!\", 80, 200);\n\t});\n\n\t$('#_btnhate').click(function(){\n\t\tcanvas.style.webkitFilter = \"blur(1px)\";\n\t\t$('#_explanation p').fadeOut();\n\t\t$('.popover').fadeOut();\n\t});\n\n\t$('#_pinBtn').click(function(event) {\n\t\t//to do img bg\n\t\tcs.savePNG( cnvs, 'dotdot', coord, 'false', function(data){\n\t\t\t// var baseUrl = \"http://localhost:8888/dot-dot/\";\n\t\t\tvar baseUrl = \"http://dotdot.be/\";\n\t\t\tvar newHref = baseUrl + data;\n\t\t\tvar url = \"//www.pinterest.com/pin/create/link/?url=\"+ baseUrl +\"index.php&media=\"+newHref;\n\t\t\t$(\"#_pinBtn\").prop(\"href\", url);\n\t\t});\n\t});\n\n\t$('#_arm').click(function() {\n\t\tisArm = true;\n\t\t$('.main').css('background-image', \"url('assets/images/bg-2.png')\");\n\t});\n\n\t$('#_back').click(function() {\n\t\tisArm = false;\n\t\t$('.main').css('background-image', \"url('assets/images/bg.png')\");\n\t});\n\n\t//video\n\tif($('#video').length){\n\t\tvar video = $('#video');\n\t\t\n\t\tvideo[0].removeAttribute(\"controls\");\n\t\t$('.control').fadeIn(500);\n\n\t\t$('.video-wrapper').hover(function() {\n\t\t\t$('.control').stop().fadeIn();\n\t\t\t}, function() {\n\t\t\t\t$('.control').stop().fadeOut();\n\t\t\t}).on('click', function() {\n\t\t\t\t$('.btnPlay').find('.icon-play').addClass('icon-pause').removeClass('icon-play');\n\t\t\t\t$(this).unbind('click');\n\t\t\t\tvideo[0].play();\n\t\t\t});\n\n\t\tvideo.on('click', function() {\n\t\t\tplaypause(); \n\t\t});\n\n\t\t$('#_btnPlay').on('click', function() {\n\t\t\tplaypause(); \n\t\t});\n\n\t\tvar playpause = function() {\n\t\t\tif(video[0].paused || video[0].ended) {\n\t\t\t\t$('.btnPlay').addClass('paused');\n\t\t\t\t$('.btnPlay').find('.icon-play').addClass('icon-pause').removeClass('icon-play');\n\t\t\t\tvideo[0].play();\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$('.btnPlay').removeClass('paused');\n\t\t\t\t$('.btnPlay').find('.icon-pause').removeClass('icon-pause').addClass('icon-play');\n\t\t\t\tvideo[0].pause();\n\t\t\t}\n\t\t};\n\t}\n});","/* ========================================================================\n* Bootstrap: modal.js v3.2.0\n* http://getbootstrap.com/javascript/#modals\n* ========================================================================\n* Copyright 2011-2014 Twitter, Inc.\n* Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n* ======================================================================== */\n\n\n+function ($) {\n\t'use strict';\n\n// MODAL CLASS DEFINITION\n// ======================\n\nvar Modal = function (element, options) {\n\tthis.options        = options\n\tthis.$body          = $(document.body)\n\tthis.$element       = $(element)\n\tthis.$backdrop      =\n\tthis.isShown        = null\n\tthis.scrollbarWidth = 0\n\n\tif (this.options.remote) {\n\t\tthis.$element\n\t\t.find('.modal-content')\n\t\t.load(this.options.remote, $.proxy(function () {\n\t\t\tthis.$element.trigger('loaded.bs.modal')\n\t\t}, this))\n\t}\n}\n\nModal.VERSION  = '3.2.0'\n\nModal.DEFAULTS = {\n\tbackdrop: true,\n\tkeyboard: true,\n\tshow: true\n}\n\nModal.prototype.toggle = function (_relatedTarget) {\n\treturn this.isShown ? this.hide() : this.show(_relatedTarget)\n}\n\nModal.prototype.show = function (_relatedTarget) {\n\tvar that = this\n\tvar e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\t$('.btn-close').removeClass('open')\n\tthis.$element.trigger(e)\n\n\tif (this.isShown || e.isDefaultPrevented()) return\n\n\t\tthis.isShown = true\n\n\n\tthis.checkScrollbar()\n\tthis.$body.addClass('modal-open')\n\n\tthis.setScrollbar()\n\tthis.escape()\n\n\tthis.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n\tthis.backdrop(function () {\n\t\tvar transition = $.support.transition && that.$element.hasClass('fade')\n\n\tif (!that.$element.parent().length) {\nthat.$element.appendTo(that.$body) // don't move modals dom position\n}\n\nthat.$element\n.show()\n.scrollTop(0)\n\nif (transition) {\nthat.$element[0].offsetWidth // force reflow\n}\n\nthat.$element\n.addClass('in')\n.attr('aria-hidden', false)\n\nthat.enforceFocus()\n\nvar e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\ntransition ?\nthat.$element.find('.modal-dialog') // wait for modal to slide in\n.one('bsTransitionEnd', function () {\n\tthat.$element.trigger('focus').trigger(e)\n})\n.emulateTransitionEnd(300) :\nthat.$element.trigger('focus').trigger(e)\n})\n}\n\nModal.prototype.hide = function (e) {\n\tif (e) e.preventDefault()\n\n\t\te = $.Event('hide.bs.modal')\n\n\tthis.$element.trigger(e)\n\n\tif (!this.isShown || e.isDefaultPrevented()) return\n\n\t\tthis.isShown = false\n\n\tthis.$body.removeClass('modal-open')\n\n\tthis.resetScrollbar()\n\tthis.escape()\n\n\t$(document).off('focusin.bs.modal')\n\n\tthis.$element\n\t.removeClass('in')\n\t.attr('aria-hidden', true)\n\t.off('click.dismiss.bs.modal')\n\n\t$.support.transition && this.$element.hasClass('fade') ?\n\tthis.$element\n\t.one('bsTransitionEnd', $.proxy(this.hideModal, this))\n\t.emulateTransitionEnd(300) :\n\tthis.hideModal();\n\t$('.view').removeClass('isBlured');\n}\n\nModal.prototype.enforceFocus = function () {\n\t$(document)\n.off('focusin.bs.modal') // guard against infinite focus loop\n.on('focusin.bs.modal', $.proxy(function (e) {\n\tif (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n\t\tthis.$element.trigger('focus')\n\t}\n}, this))\n}\n\nModal.prototype.escape = function () {\n\tif (this.isShown && this.options.keyboard) {\n\t\tthis.$element.on('keyup.dismiss.bs.modal', $.proxy(function (e) {\n\t\t\te.which == 27 && this.hide()\n\t\t}, this))\n\t} else if (!this.isShown) {\n\t\tthis.$element.off('keyup.dismiss.bs.modal')\n\t}\n}\n\nModal.prototype.hideModal = function () {\n\tvar that = this\n\tthis.$element.fadeOut('400', function() {\n\t\t\n\t});\n\tthis.backdrop(function () {\n\t\tthat.$element.trigger('hidden.bs.modal')\n\t})\n}\n\nModal.prototype.removeBackdrop = function () {\n\tthis.$backdrop && this.$backdrop.remove()\n\tthis.$backdrop = null\n}\n\nModal.prototype.backdrop = function (callback) {\n\tvar that = this\n\tvar animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n\tif (this.isShown && this.options.backdrop) {\n\t\tvar doAnimate = $.support.transition && animate\n\n\t\tthis.$backdrop = $('<div class=\"modal-backdrop ' + animate + '\" />')\n\t\t.appendTo(this.$body)\n\n\t\tthis.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n\t\t\tif (e.target !== e.currentTarget) return\n\t\t\t\tthis.options.backdrop == 'static'\n\t\t\t? this.$element[0].focus.call(this.$element[0])\n\t\t\t: this.hide.call(this)\n\t\t}, this))\n\nif (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n\tthis.$backdrop.addClass('in')\n\nif (!callback) return\n\n\tdoAnimate ?\nthis.$backdrop\n.one('bsTransitionEnd', callback)\n.emulateTransitionEnd(150) :\ncallback()\n\n} else if (!this.isShown && this.$backdrop) {\n\tthis.$backdrop.removeClass('in')\n\n\tvar callbackRemove = function () {\n\t\tthat.removeBackdrop()\n\t\tcallback && callback()\n\t}\n\t$.support.transition && this.$element.hasClass('fade') ?\n\tthis.$backdrop\n\t.one('bsTransitionEnd', callbackRemove)\n\t.emulateTransitionEnd(150) :\n\tcallbackRemove()\n\n} else if (callback) {\n\tcallback()\n}\n}\n\nModal.prototype.checkScrollbar = function () {\n\tif (document.body.clientWidth >= window.innerWidth) return\n\t\tthis.scrollbarWidth = this.scrollbarWidth || this.measureScrollbar()\n}\n\nModal.prototype.setScrollbar = function () {\n\tvar bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n\tif (this.scrollbarWidth) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n}\n\nModal.prototype.resetScrollbar = function () {\n\tthis.$body.css('padding-right', '')\n}\n\nModal.prototype.measureScrollbar = function () { // thx walsh\n\tvar scrollDiv = document.createElement('div')\n\tscrollDiv.className = 'modal-scrollbar-measure'\n\tthis.$body.append(scrollDiv)\n\tvar scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n\tthis.$body[0].removeChild(scrollDiv)\n\treturn scrollbarWidth\n}\n\n\n// MODAL PLUGIN DEFINITION\n// =======================\n\nfunction Plugin(option, _relatedTarget) {\n\treturn this.each(function () {\n\t\tvar $this   = $(this)\n\t\tvar data    = $this.data('bs.modal')\n\t\tvar options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n\t\tif (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n\t\t\tif (typeof option == 'string') data[option](_relatedTarget)\n\t\t\t\telse if (options.show) data.show(_relatedTarget)\n\t\t\t})\n}\n\nvar old = $.fn.modal\n\n$.fn.modal             = Plugin\n$.fn.modal.Constructor = Modal\n\n\n// MODAL NO CONFLICT\n// =================\n\n$.fn.modal.noConflict = function () {\n\t$.fn.modal = old\n\treturn this\n}\n\n\n// MODAL DATA-API\n// ==============\n\n$(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n\tvar $this   = $(this)\n\tvar href    = $this.attr('href')\nvar $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\nvar option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\nif ($this.is('a')) e.preventDefault()\n\n\t$target.one('show.bs.modal', function (showEvent) {\nif (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n\t$target.one('hidden.bs.modal', function () {\n\t\t$this.is(':visible') && $this.trigger('focus')\n\t})\n})\nPlugin.call($target, option, this)\n})\n\n}(jQuery);\n"],"sourceRoot":"/source/"}