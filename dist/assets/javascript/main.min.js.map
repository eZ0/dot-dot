{"version":3,"sources":["gallery.js","saveimage.js","main.js","modal.js"],"names":["initButtons","$","click","e","preventDefault","checkUserdata","addClass","removeClass","data_entered","name","encodeURIComponent","val","country","url","saveRegistration","ajax","done","onRegistrationSaved","fadeOut","css","opacity","alert","CanvasSaver","this","savePNG","cnvs","fname","coord","download","data","toDataURL","substr","indexOf","toString","dataInput","document","createElement","setAttribute","nameInput","coordInput","downloadInput","myForm","method","action","appendChild","body","submit","removeChild","ready","canvas","style","webkitFilter","getElementById","cs","getJSON","console","log","video","removeAttribute","fadeIn","hover","stop","timeDrag","on","find","unbind","play","playpause","paused","ended","pause","Plugin","option","_relatedTarget","each","$this","options","extend","Modal","DEFAULTS","show","element","$body","$element","$backdrop","isShown","scrollbarWidth","remote","load","proxy","trigger","VERSION","backdrop","keyboard","prototype","toggle","hide","that","Event","relatedTarget","isDefaultPrevented","checkScrollbar","setScrollbar","escape","transition","support","hasClass","parent","length","appendTo","scrollTop","offsetWidth","attr","enforceFocus","one","emulateTransitionEnd","resetScrollbar","off","hideModal","target","has","which","removeBackdrop","remove","callback","animate","doAnimate","currentTarget","focus","call","callbackRemove","clientWidth","window","innerWidth","measureScrollbar","bodyPad","parseInt","scrollDiv","className","append","old","fn","modal","Constructor","noConflict","href","$target","replace","test","is","showEvent","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["var data_entered = false;\n\nvar name;\nvar country;\nvar url;\n\n\n$( document ).ready(function() {\n\n\tinitButtons();\n\t\n});\n\n\n\nfunction initButtons() {\n\n\t$('#submit').click(function(e) {\n\t\te.preventDefault();\n\t\tcheckUserdata();\n\t});\n\n\t$('.btn-add').click(function(){\n\t\t$('.view').addClass('isBlured');\n\t});\n\n\t$('.close').click(function(){\n\t\t$('.view').removeClass('isBlured');\n\t});\n}\n\nfunction checkUserdata() {\n\tif(!data_entered) {\n\t\tname = encodeURIComponent($('#pic-form input[name=\"name\"]').val());\n\t\tcountry = encodeURIComponent($('#pic-form input[name=\"country\"]').val());\n\t\turl = encodeURIComponent($('#pic-form input[name=\"url\"]').val());\n\t\t\n\t\tdata_entered = true;\n\n\t\tsaveRegistration();\n\t}\n}\n\nfunction saveRegistration() {\n\t$.ajax({\n\t\turl: \"assets/data/savedata.php?&name=\"+name+\"&country=\"+country+\"&url=\"+url\n\t}).done(function(data) {\n\t\tonRegistrationSaved(data_entered);\n\t});\n}\n\nfunction onRegistrationSaved(data) {\n\tif(data_entered) {\n\t\t$('#pic-form').fadeOut(500, function() {\n\t\t\t$('#thanks').css({\n\t\t\t\topacity: '1'\n\t\t\t});\n\t\t});\n\t} else {\n\t\talert(\"An error occurred saving to the database.\");\n\t}\n}\n\n\n","/*\nclass for saving canvas as png and renaming it\ncommunicates with saveimage.php which sets headers\n*/\nfunction CanvasSaver(url) {\n\n\tthis.url = url;\n\n\tthis.savePNG = function(cnvs, fname, coord, download) {\n\t\t//if no canvas or url to .php - do nothing\n\t\tif(!cnvs || !url) return;\n\n\t\t//name file 'picture.png' if there is no file name given\n\t\tfname = fname || 'picture';\n\n\t\t//saving canvas element\n\t\tvar data = cnvs.toDataURL(\"image/png\");\n\t\tdata = data.substr(data.indexOf(',') + 1).toString();\n\n\t\t//unique coordinates\n\t\tcoord = coord || 0;\n\n\t\t//creating hidden form for sending our data for image to php and back\n\t\tvar dataInput = document.createElement(\"input\") ;\n\t\tdataInput.setAttribute(\"name\", 'imgdata') ;\n\t\tdataInput.setAttribute(\"value\", data);\n\t\tdataInput.setAttribute(\"type\", \"hidden\");\n\n\t\tvar nameInput = document.createElement(\"input\") ;\n\t\tnameInput.setAttribute(\"name\", 'name') ;\n\t\tnameInput.setAttribute(\"value\", fname + '.png');\n\n\t\t//sending unique coordinate of saved image\n\t\tvar coordInput = document.createElement(\"input\") ;\n\t\tcoordInput.setAttribute(\"name\", 'coord') ;\n\t\tcoordInput.setAttribute(\"value\", coord);\n\t\tcoordInput.setAttribute(\"type\", \"hidden\");\n\n\t\tvar downloadInput = document.createElement(\"input\") ;\n\t\tdownloadInput.setAttribute(\"name\", 'download') ;\n\t\tdownloadInput.setAttribute(\"value\", download);\n\t\tdownloadInput.setAttribute(\"type\", \"hidden\");\n\n\t\tvar myForm = document.createElement(\"form\");\n\t\tmyForm.method = 'post';\n\t\tmyForm.action = url;\n\t\tmyForm.appendChild(dataInput);\n\t\tmyForm.appendChild(nameInput);\n\t\tmyForm.appendChild(coordInput);\n\t\tmyForm.appendChild(downloadInput);\n\n\t\t//communicating with php via submiting form\n\t\tdocument.body.appendChild(myForm);\n\t\tmyForm.submit() ;\n\t\tdocument.body.removeChild(myForm);\n\t};\n}","$( document ).ready(function() {\n\n\tcanvas.style.webkitFilter = \"blur(1px)\";\n\n\tvar cnvs = document.getElementById('_tattoo');\n\tvar cs = new CanvasSaver('assets/data/saveimage.php');\n\n\t$('#_btnwant').click(function(){\n\t\tcs.savePNG( cnvs, 'dotdot', coord, true);\n\t});\n\t\n\t$('#_pinBtn').click(function(event) {\n\t\t$.getJSON('../dist/assets/data/saveimage.php', function(data) {\n\t\t\tcs.savePNG( cnvs, 'dotdot', coord, false);\n\t\t\tconsole.log(\"URL is \"+data.toString());\n\t\t\t//get an url of this element\n\t\t\t//get the part from &media=\n\t\t\t//replace with new url\n\t\t});\n\t});\n\n\t$('#_arm').click(function() {\n\t\t$('.main').css('background-image', \"url('assets/images/bg-2.png')\");\n\t});\n\n\t$('#_back').click(function() {\n\t\t$('.main').css('background-image', \"url('assets/images/bg.png')\");\n\t});\n\n\t//video\n\tvar video = $('#video');\n\t\n\tvideo[0].removeAttribute(\"controls\");\n\t$('.control').fadeIn(500);\n\n\t$('.video-wrapper').hover(function() {\n\t\t$('.control').stop().fadeIn();\n\t\t}, function() {\n\t\t\tif(!timeDrag){\n\t\t\t\t$('.control').stop().fadeOut();\n\t\t\t}\n\t\t})\n\t\t.on('click', function() {\n\t\t\t$('.btnPlay').find('.icon-play').addClass('icon-pause').removeClass('icon-play');\n\t\t\t$(this).unbind('click');\n\t\t\tvideo[0].play();\n\t\t});\n\n\tvideo.on('click', function() {\n\t\tplaypause(); \n\t});\n\n\t$('.btnPlay').on('click', function() {\n\t\tplaypause(); \n\t});\n\n\tvar playpause = function() {\n\t\tif(video[0].paused || video[0].ended) {\n\t\t\t$('.btnPlay').addClass('paused');\n\t\t\t$('.btnPlay').find('.icon-play').addClass('icon-pause').removeClass('icon-play');\n\t\t\tvideo[0].play();\n\t\t}\n\t\telse {\n\t\t\t$('.btnPlay').removeClass('paused');\n\t\t\t$('.btnPlay').find('.icon-pause').removeClass('icon-pause').addClass('icon-play');\n\t\t\tvideo[0].pause();\n\t\t}\n\t};\n\n});","/* ========================================================================\n* Bootstrap: modal.js v3.2.0\n* http://getbootstrap.com/javascript/#modals\n* ========================================================================\n* Copyright 2011-2014 Twitter, Inc.\n* Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n* ======================================================================== */\n\n\n+function ($) {\n\t'use strict';\n\n// MODAL CLASS DEFINITION\n// ======================\n\nvar Modal = function (element, options) {\n\tthis.options        = options\n\tthis.$body          = $(document.body)\n\tthis.$element       = $(element)\n\tthis.$backdrop      =\n\tthis.isShown        = null\n\tthis.scrollbarWidth = 0\n\n\tif (this.options.remote) {\n\t\tthis.$element\n\t\t.find('.modal-content')\n\t\t.load(this.options.remote, $.proxy(function () {\n\t\t\tthis.$element.trigger('loaded.bs.modal')\n\t\t}, this))\n\t}\n}\n\nModal.VERSION  = '3.2.0'\n\nModal.DEFAULTS = {\n\tbackdrop: true,\n\tkeyboard: true,\n\tshow: true\n}\n\nModal.prototype.toggle = function (_relatedTarget) {\n\treturn this.isShown ? this.hide() : this.show(_relatedTarget)\n}\n\nModal.prototype.show = function (_relatedTarget) {\n\tvar that = this\n\tvar e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n\tthis.$element.trigger(e)\n\n\tif (this.isShown || e.isDefaultPrevented()) return\n\n\t\tthis.isShown = true\n\n\tthis.checkScrollbar()\n\tthis.$body.addClass('modal-open')\n\n\tthis.setScrollbar()\n\tthis.escape()\n\n\tthis.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n\tthis.backdrop(function () {\n\t\tvar transition = $.support.transition && that.$element.hasClass('fade')\n\n\t\tif (!that.$element.parent().length) {\nthat.$element.appendTo(that.$body) // don't move modals dom position\n}\n\nthat.$element\n.show()\n.scrollTop(0)\n\nif (transition) {\nthat.$element[0].offsetWidth // force reflow\n}\n\nthat.$element\n.addClass('in')\n.attr('aria-hidden', false)\n\nthat.enforceFocus()\n\nvar e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\ntransition ?\nthat.$element.find('.modal-dialog') // wait for modal to slide in\n.one('bsTransitionEnd', function () {\n\tthat.$element.trigger('focus').trigger(e)\n})\n.emulateTransitionEnd(300) :\nthat.$element.trigger('focus').trigger(e)\n})\n}\n\nModal.prototype.hide = function (e) {\n\tif (e) e.preventDefault()\n\n\t\te = $.Event('hide.bs.modal')\n\n\tthis.$element.trigger(e)\n\n\tif (!this.isShown || e.isDefaultPrevented()) return\n\n\t\tthis.isShown = false\n\n\tthis.$body.removeClass('modal-open')\n\n\tthis.resetScrollbar()\n\tthis.escape()\n\n\t$(document).off('focusin.bs.modal')\n\n\tthis.$element\n\t.removeClass('in')\n\t.attr('aria-hidden', true)\n\t.off('click.dismiss.bs.modal')\n\n\t$.support.transition && this.$element.hasClass('fade') ?\n\tthis.$element\n\t.one('bsTransitionEnd', $.proxy(this.hideModal, this))\n\t.emulateTransitionEnd(300) :\n\tthis.hideModal()\n\t$('.view').removeClass('isBlured');\n}\n\nModal.prototype.enforceFocus = function () {\n\t$(document)\n.off('focusin.bs.modal') // guard against infinite focus loop\n.on('focusin.bs.modal', $.proxy(function (e) {\n\tif (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n\t\tthis.$element.trigger('focus')\n\t}\n}, this))\n}\n\nModal.prototype.escape = function () {\n\tif (this.isShown && this.options.keyboard) {\n\t\tthis.$element.on('keyup.dismiss.bs.modal', $.proxy(function (e) {\n\t\t\te.which == 27 && this.hide()\n\t\t}, this))\n\t} else if (!this.isShown) {\n\t\tthis.$element.off('keyup.dismiss.bs.modal')\n\t}\n}\n\nModal.prototype.hideModal = function () {\n\tvar that = this\n\tthis.$element.hide()\n\tthis.backdrop(function () {\n\t\tthat.$element.trigger('hidden.bs.modal')\n\t})\n}\n\nModal.prototype.removeBackdrop = function () {\n\tthis.$backdrop && this.$backdrop.remove()\n\tthis.$backdrop = null\n}\n\nModal.prototype.backdrop = function (callback) {\n\tvar that = this\n\tvar animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n\tif (this.isShown && this.options.backdrop) {\n\t\tvar doAnimate = $.support.transition && animate\n\n\t\tthis.$backdrop = $('<div class=\"modal-backdrop ' + animate + '\" />')\n\t\t.appendTo(this.$body)\n\n\t\tthis.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n\t\t\tif (e.target !== e.currentTarget) return\n\t\t\t\tthis.options.backdrop == 'static'\n\t\t\t? this.$element[0].focus.call(this.$element[0])\n\t\t\t: this.hide.call(this)\n\t\t}, this))\n\nif (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n\tthis.$backdrop.addClass('in')\n\nif (!callback) return\n\n\tdoAnimate ?\nthis.$backdrop\n.one('bsTransitionEnd', callback)\n.emulateTransitionEnd(150) :\ncallback()\n\n} else if (!this.isShown && this.$backdrop) {\n\tthis.$backdrop.removeClass('in')\n\n\tvar callbackRemove = function () {\n\t\tthat.removeBackdrop()\n\t\tcallback && callback()\n\t}\n\t$.support.transition && this.$element.hasClass('fade') ?\n\tthis.$backdrop\n\t.one('bsTransitionEnd', callbackRemove)\n\t.emulateTransitionEnd(150) :\n\tcallbackRemove()\n\n} else if (callback) {\n\tcallback()\n}\n}\n\nModal.prototype.checkScrollbar = function () {\n\tif (document.body.clientWidth >= window.innerWidth) return\n\t\tthis.scrollbarWidth = this.scrollbarWidth || this.measureScrollbar()\n}\n\nModal.prototype.setScrollbar = function () {\n\tvar bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n\tif (this.scrollbarWidth) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n}\n\nModal.prototype.resetScrollbar = function () {\n\tthis.$body.css('padding-right', '')\n}\n\nModal.prototype.measureScrollbar = function () { // thx walsh\n\tvar scrollDiv = document.createElement('div')\n\tscrollDiv.className = 'modal-scrollbar-measure'\n\tthis.$body.append(scrollDiv)\n\tvar scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n\tthis.$body[0].removeChild(scrollDiv)\n\treturn scrollbarWidth\n}\n\n\n// MODAL PLUGIN DEFINITION\n// =======================\n\nfunction Plugin(option, _relatedTarget) {\n\treturn this.each(function () {\n\t\tvar $this   = $(this)\n\t\tvar data    = $this.data('bs.modal')\n\t\tvar options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n\t\tif (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n\t\t\tif (typeof option == 'string') data[option](_relatedTarget)\n\t\t\t\telse if (options.show) data.show(_relatedTarget)\n\t\t\t})\n}\n\nvar old = $.fn.modal\n\n$.fn.modal             = Plugin\n$.fn.modal.Constructor = Modal\n\n\n// MODAL NO CONFLICT\n// =================\n\n$.fn.modal.noConflict = function () {\n\t$.fn.modal = old\n\treturn this\n}\n\n\n// MODAL DATA-API\n// ==============\n\n$(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n\tvar $this   = $(this)\n\tvar href    = $this.attr('href')\nvar $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\nvar option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\nif ($this.is('a')) e.preventDefault()\n\n\t$target.one('show.bs.modal', function (showEvent) {\nif (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n\t$target.one('hidden.bs.modal', function () {\n\t\t$this.is(':visible') && $this.trigger('focus')\n\t})\n})\nPlugin.call($target, option, this)\n})\n\n}(jQuery);\n"],"sourceRoot":"/source/"}