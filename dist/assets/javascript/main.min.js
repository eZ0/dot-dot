function calcHeight(){var t=$(".view").height(),e=$(".view img").height(),n=t-e;$(".view").height(t-n)}function initButtons(){$("#submit").click(function(t){t.preventDefault(),checkUserdata()}),$(".btn-add").click(function(){$(".view").addClass("isBlured")}),$(".close").click(function(){$(".view").removeClass("isBlured")})}function checkUserdata(){data_entered||(name=encodeURIComponent($('#pic-form input[name="name"]').val()),country=encodeURIComponent($('#pic-form input[name="country"]').val()),url=encodeURIComponent($('#pic-form input[name="url"]').val()),file=encodeURIComponent($('#pic-form input[name="file"]').val()),data_entered=!0,saveRegistration())}function saveRegistration(){var t=new FormData(document.getElementById("pic-form"));t.append("CustomField","This is some extra data"),$.ajax({url:"assets/data/savedata.php?&name="+name+"&country="+country+"&url="+url+"&file="+file,type:"POST",data:t,processData:!1,contentType:!1}).done(function(t){console.log(t),onRegistrationSaved(data_entered)})}function onRegistrationSaved(){data_entered?$("#pic-form").fadeOut(500,function(){$("#thanks").css({opacity:"1"})}):alert("An error occurred saving to the database.")}function CanvasSaver(t){this.url=t,this.savePNG=function(e,n,i,o,a){if(e&&t){n=n||"picture";var s=e.toDataURL("image/png");if(s=s.substr(s.indexOf(",")+1).toString(),i=i||10,o=o||1111,"false"==o)return void $.ajax({type:"POST",async:!1,url:t,data:{imgdata:s,name:n,down:"false",coord:i},success:a});var r=document.createElement("input");r.setAttribute("name","imgdata"),r.setAttribute("value",s),r.setAttribute("type","hidden");var d=document.createElement("input");d.setAttribute("name","name"),d.setAttribute("value",n+".png");var l=document.createElement("input");l.setAttribute("name","down"),l.setAttribute("value",o),l.setAttribute("type","hidden");var c=document.createElement("input");c.setAttribute("name","coord"),c.setAttribute("value",i),c.setAttribute("type","hidden");var h=document.createElement("form");h.method="post",h.action=t,h.appendChild(r),h.appendChild(d),h.appendChild(l),h.appendChild(c),document.body.appendChild(h),h.submit(),document.body.removeChild(h)}}}var data_entered=!1,name,country,url;$(document).ready(function(){initButtons(),calcHeight(),$(".main").bind("touchstart",function(){}),$("#url").hide(),$("#file").hide(),$("#_url").click(function(){$("#url").toggle(),$("#file").hide()}),$("#_file").click(function(){$("#file").toggle(),$("#url").hide()})}),$(document).ready(function(){canvas.style.webkitFilter="blur(1px)";var t=document.getElementById("_tattoo"),e=new CanvasSaver("assets/data/saveimage.php");$("#_btnwant").click(function(){e.savePNG(t,"dotdot",coord,"true")}),$("#_btnhate").click(function(){$("#_explanation p").fadeOut()}),$("#_pinBtn").click(function(){e.savePNG(t,"dotdot",coord,"false",function(t){var e="http://ksenia.be/dot/",n=e+t,i="//www.pinterest.com/pin/create/link/?url="+e+"index.php&media="+n;$("#_pinBtn").prop("href",i)})}),$("#_arm").click(function(){$(".main").css("background-image","url('assets/images/bg-2.png')")}),$("#_back").click(function(){$(".main").css("background-image","url('assets/images/bg.png')")});var n=$("#video");n[0].removeAttribute("controls"),$(".control").fadeIn(500),$(".video-wrapper").hover(function(){$(".control").stop().fadeIn()},function(){timeDrag||$(".control").stop().fadeOut()}).on("click",function(){$(".btnPlay").find(".icon-play").addClass("icon-pause").removeClass("icon-play"),$(this).unbind("click"),n[0].play()}),n.on("click",function(){i()}),$(".btnPlay").on("click",function(){i()});var i=function(){n[0].paused||n[0].ended?($(".btnPlay").addClass("paused"),$(".btnPlay").find(".icon-play").addClass("icon-pause").removeClass("icon-play"),n[0].play()):($(".btnPlay").removeClass("paused"),$(".btnPlay").find(".icon-pause").removeClass("icon-pause").addClass("icon-play"),n[0].pause())}}),+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),a=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);a||o.data("bs.modal",a=new n(this,s)),"string"==typeof e?a[e](i):s.show&&a.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal(),t(".view").removeClass("isBlured"))},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),a=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(a,s,this)})}(jQuery);
//# sourceMappingURL=main.min.js.map