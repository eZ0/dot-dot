function CoordinatesChecker(t){this.url=t,this.checkCoord=function(e,n){t&&(e=e||17,$.ajax({type:"POST",async:!1,url:t,data:{coord:e},success:n}))}}function initButtons(){$("#submit").click(function(t){t.preventDefault(),checkUserdata()}),$(".btn-add").click(function(){$(".view").addClass("isBlured")}),$(".close").click(function(){$(".view").removeClass("isBlured")})}function checkUserdata(){data_entered||(name=encodeURIComponent($('#pic-form input[name="name"]').val()),country=encodeURIComponent($('#pic-form input[name="country"]').val()),url=encodeURIComponent($('#pic-form input[name="url"]').val()),file=encodeURIComponent($('#pic-form input[name="file"]').val()),data_entered=!0,saveRegistration())}function saveRegistration(){var t=new FormData(document.getElementById("pic-form"));t.append("CustomField","This is some extra data"),$.ajax({url:"assets/data/savedata.php?&name="+name+"&country="+country+"&url="+url+"&file="+file,type:"POST",data:t,processData:!1,contentType:!1}).done(function(){onRegistrationSaved(data_entered)})}function onRegistrationSaved(){data_entered?$("#pic-form").fadeOut(500,function(){$("#thanks").css({opacity:"1"})}):alert("An error occurred saving to the database.")}function initButtonsLogin(){$("#login").click(function(t){t.preventDefault(),checkLoginData()})}function checkLoginData(){loginDataEntered||(username=encodeURIComponent($('#login-form input[name="username"]').val()),password=encodeURIComponent($('#login-form input[name="password"]').val()),loginDataEntered=!0,checkIfRegistered())}function checkIfRegistered(){$.ajax({type:"POST",async:!1,url:"assets/data/login.php",data:{username:username,password:password}}).done(function(){console.log("succes")})}function CanvasSaver(t){this.url=t,this.savePNG=function(e,n,o,i,a){if(e&&t){n=n||"picture";var s=e.toDataURL("image/png");if(s=s.substr(s.indexOf(",")+1).toString(),o=o||10,i=i||1111,"false"==i)return void $.ajax({type:"POST",async:!1,url:t,data:{imgdata:s,name:n,down:"false",coord:o},success:a});var r=document.createElement("input");r.setAttribute("name","imgdata"),r.setAttribute("value",s),r.setAttribute("type","hidden");var d=document.createElement("input");d.setAttribute("name","name"),d.setAttribute("value",n+".png");var l=document.createElement("input");l.setAttribute("name","down"),l.setAttribute("value",i),l.setAttribute("type","hidden");var c=document.createElement("input");c.setAttribute("name","coord"),c.setAttribute("value",o),c.setAttribute("type","hidden");var u=document.createElement("form");u.method="post",u.action=t,u.appendChild(r),u.appendChild(d),u.appendChild(l),u.appendChild(c),document.body.appendChild(u),u.submit(),document.body.removeChild(u)}}}var data_entered=!1,name,country,url;$(document).ready(function(){initButtons(),$(".main").bind("touchstart",function(){}),$("#url").hide(),$("#file").hide(),$("#_url").click(function(){$("#url").toggle(),$("#file").hide()}),$("#_file").click(function(){$("#file").toggle(),$("#url").hide()}),$(".btn-close").click(function(){$(this).toggleClass("open")})});var loginDataEntered=!1,username,password;$(document).ready(function(){initButtonsLogin()}),$(document).ready(function(){if($("#_tattoo").length){canvas.style.webkitFilter="blur(1px)";var t=document.getElementById("_tattoo"),e=t.getContext("2d"),n=new CanvasSaver("assets/data/saveimage.php")}$("#_btnwant").click(function(){n.savePNG(t,"dotdot",coord,"true"),e.clearRect(0,0,t.width,t.height),canvas.style.webkitFilter="blur(0px)",e.fillText("Thank you for using Dot:Dot! <3",100,120),e.fillText("Enjoy & stay awesome!",120,160),e.fillText("PS Don't forget to upload your spectacular pic to our gallery!",20,180),e.fillText("Generate new tattoo's by clicking 'Hate it'!",80,200)}),$("#_btnhate").click(function(){canvas.style.webkitFilter="blur(1px)",$("#_explanation p").fadeOut()}),$("#_pinBtn").click(function(){n.savePNG(t,"dotdot",coord,"false",function(t){var e="http://ksenia.be/dot/",n=e+t,o="//www.pinterest.com/pin/create/link/?url="+e+"index.php&media="+n;$("#_pinBtn").prop("href",o)})}),$("#_arm").click(function(){isArm=!0,$(".main").css("background-image","url('assets/images/bg-2.png')")}),$("#_back").click(function(){isArm=!1,$(".main").css("background-image","url('assets/images/bg.png')")});var o=$("#video");o[0].removeAttribute("controls"),$(".control").fadeIn(500),$(".video-wrapper").hover(function(){$(".control").stop().fadeIn()},function(){$(".control").stop().fadeOut()}).on("click",function(){$(".btnPlay").find(".icon-play").addClass("icon-pause").removeClass("icon-play"),$(this).unbind("click"),o[0].play()}),o.on("click",function(){i()}),$("#_btnPlay").on("click",function(){i()});var i=function(){o[0].paused||o[0].ended?($(".btnPlay").addClass("paused"),$(".btnPlay").find(".icon-play").addClass("icon-pause").removeClass("icon-play"),o[0].play()):($(".btnPlay").removeClass("paused"),$(".btnPlay").find(".icon-pause").removeClass("icon-pause").addClass("icon-play"),o[0].pause())}}),+function(t){"use strict";function e(e,o){return this.each(function(){var i=t(this),a=i.data("bs.modal"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);a||i.data("bs.modal",a=new n(this,s)),"string"==typeof e?a[e](o):s.show&&a.show(o)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});t(".btn-close").removeClass("open"),this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal(),t(".view").removeClass("isBlured"))},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.fadeOut("400",function(){}),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var o=t(this),i=o.attr("href"),a=t(o.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},a.data(),o.data());o.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(a,s,this)})}(jQuery);
//# sourceMappingURL=main.min.js.map