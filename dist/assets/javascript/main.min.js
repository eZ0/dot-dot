function calcHeight(){var t=$(".view").height(),e=$(".view img").height(),i=t-e;$(".view").height(t-i)}function initButtons(){$("#submit").click(function(t){t.preventDefault(),checkUserdata()}),$(".btn-add").click(function(){$(".view").addClass("isBlured")}),$(".close").click(function(){$(".view").removeClass("isBlured")})}function checkUserdata(){data_entered||(name=encodeURIComponent($('#pic-form input[name="name"]').val()),country=encodeURIComponent($('#pic-form input[name="country"]').val()),url=encodeURIComponent($('#pic-form input[name="url"]').val()),file=encodeURIComponent($('#pic-form input[name="file"]').val()),data_entered=!0,saveRegistration())}function saveRegistration(){var t=new FormData(document.getElementById("pic-form"));t.append("CustomField","This is some extra data"),$.ajax({url:"assets/data/savedata.php?&name="+name+"&country="+country+"&url="+url+"&file="+file,type:"POST",data:t,processData:!1,contentType:!1}).done(function(){onRegistrationSaved(data_entered)})}function onRegistrationSaved(){data_entered?$("#pic-form").fadeOut(500,function(){$("#thanks").css({opacity:"1"})}):alert("An error occurred saving to the database.")}function CanvasSaver(t){this.url=t,this.savePNG=function(e,i,n,o,a){if(e&&t){i=i||"picture";var s=e.toDataURL("image/png");if(s=s.substr(s.indexOf(",")+1).toString(),n=n||10,o=o||1111,"false"==o)return void $.ajax({type:"POST",async:!1,url:t,data:{imgdata:s,name:i,down:"false",coord:n},success:a});var r=document.createElement("input");r.setAttribute("name","imgdata"),r.setAttribute("value",s),r.setAttribute("type","hidden");var d=document.createElement("input");d.setAttribute("name","name"),d.setAttribute("value",i+".png");var l=document.createElement("input");l.setAttribute("name","down"),l.setAttribute("value",o),l.setAttribute("type","hidden");var c=document.createElement("input");c.setAttribute("name","coord"),c.setAttribute("value",n),c.setAttribute("type","hidden");var u=document.createElement("form");u.method="post",u.action=t,u.appendChild(r),u.appendChild(d),u.appendChild(l),u.appendChild(c),document.body.appendChild(u),u.submit(),document.body.removeChild(u)}}}var data_entered=!1,name,country,url;$(document).ready(function(){initButtons(),calcHeight(),$(".main").bind("touchstart",function(){}),$("#url").hide(),$("#file").hide(),$("#_url").click(function(){$("#url").toggle(),$("#file").hide()}),$("#_file").click(function(){$("#file").toggle(),$("#url").hide()})}),$(document).ready(function(){canvas.style.webkitFilter="blur(1px)";var t=document.getElementById("_tattoo"),e=t.getContext("2d"),i=new CanvasSaver("assets/data/saveimage.php");$("#_btnwant").click(function(){i.savePNG(t,"dotdot",coord,"true"),e.clearRect(0,0,t.width,t.height),canvas.style.webkitFilter="blur(0px)",e.fillText("Thank you for using Dot:Dot! <3",100,120),e.fillText("Enjoy & stay awesome!",120,160),e.fillText("PS Don't forget to upload your spectacular pic to our gallery!",20,180),e.fillText("Generate new tattoo's by clicking 'Hate it'!",80,200)}),$("#_btnhate").click(function(){canvas.style.webkitFilter="blur(1px)",$("#_explanation p").fadeOut()}),$("#_pinBtn").click(function(){i.savePNG(t,"dotdot",coord,"false",function(t){var e="http://ksenia.be/dot/",i=e+t,n="//www.pinterest.com/pin/create/link/?url="+e+"index.php&media="+i;$("#_pinBtn").prop("href",n)})}),$("#_arm").click(function(){$(".main").css("background-image","url('assets/images/bg-2.png')")}),$("#_back").click(function(){$(".main").css("background-image","url('assets/images/bg.png')")});var n=$("#video");n[0].removeAttribute("controls"),$(".control").fadeIn(500),$(".video-wrapper").hover(function(){$(".control").stop().fadeIn()},function(){timeDrag||$(".control").stop().fadeOut()}).on("click",function(){$(".btnPlay").find(".icon-play").addClass("icon-pause").removeClass("icon-play"),$(this).unbind("click"),n[0].play()}),n.on("click",function(){o()}),$(".btnPlay").on("click",function(){o()});var o=function(){n[0].paused||n[0].ended?($(".btnPlay").addClass("paused"),$(".btnPlay").find(".icon-play").addClass("icon-pause").removeClass("icon-play"),n[0].play()):($(".btnPlay").removeClass("paused"),$(".btnPlay").find(".icon-pause").removeClass("icon-pause").addClass("icon-play"),n[0].pause())}}),+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),a=o.data("bs.modal"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);a||o.data("bs.modal",a=new i(this,s)),"string"==typeof e?a[e](n):s.show&&a.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.2.0",i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal(),t(".view").removeClass("isBlured"))},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else e&&e()},i.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),a=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},a.data(),n.data());n.is("a")&&i.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(a,s,this)})}(jQuery);
//# sourceMappingURL=main.min.js.map